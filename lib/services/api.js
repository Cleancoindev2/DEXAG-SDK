"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_axios=_interopRequireDefault(require("axios")),_ethers=require("ethers"),_utility=_interopRequireDefault(require("./utility")),dexagClient=_axios["default"].create({baseURL:"https://api.dex.ag/"}),api={getGas:function(){var a=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function a(){var b,c,d,e,f;return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b="https://ethgasstation.info/json/ethgasAPI.json",a.next=3,_axios["default"].get(b);case 3:return c=a.sent,d=c.data,e=d.fast,f=_ethers.ethers.utils.bigNumberify(e).mul(1e9).div(10),a.abrupt("return",f);case 8:case"end":return a.stop();}},a)}));return function getGas(){return a.apply(this,arguments)}}(),track:function(){var a=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function a(b,c,d){var e;return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e={status:b,details:c,trade:d},a.next=3,dexagClient.post("/send_trade",e);case 3:case"end":return a.stop();}},a)}));return function track(){return a.apply(this,arguments)}}(),getTrade:function(){var a=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function a(b){var c,d,e;return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=_axios["default"].create({baseURL:"https://api.dex.ag/"}),a.next=3,c.get("/trade",{params:b});case 3:return d=a.sent,e=d.data,a.abrupt("return",e);case 6:case"end":return a.stop();}},a)}));return function getTrade(){return a.apply(this,arguments)}}(),getPrice:function(){var a=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function a(b){var c,d,e;return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=_axios["default"].create({baseURL:"https://api.dex.ag/"}),a.next=3,c.get("/trade",{params:b});case 3:return d=a.sent,e=d.data,a.abrupt("return",e);case 6:case"end":return a.stop();}},a)}));return function getPrice(){return a.apply(this,arguments)}}()},_default=api;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2aWNlcy9hcGkuanMiXSwibmFtZXMiOlsiZGV4YWdDbGllbnQiLCJheGlvcyIsImNyZWF0ZSIsImJhc2VVUkwiLCJhcGkiLCJnZXRHYXMiLCJ1cmwiLCJnZXQiLCJyZXNwb25zZSIsImRhdGEiLCJnYXNEYXRhIiwiZmFzdCIsImdhc1dlaSIsImV0aGVycyIsInV0aWxzIiwiYmlnTnVtYmVyaWZ5IiwibXVsIiwiZGl2IiwidHJhY2siLCJzdGF0dXMiLCJkZXRhaWxzIiwidHJhZGUiLCJwb3N0IiwiZ2V0VHJhZGUiLCJwYXJhbXMiLCJnZXRQcmljZSIsInByaWNlIl0sIm1hcHBpbmdzIjoiOGRBS01BLFdBQVcsQ0FBR0Msa0JBQU1DLE1BQU4sQ0FBYSxDQUMvQkMsT0FBTyxDQUFFLHFCQURzQixDQUFiLEMsQ0FJZEMsR0FBRyxDQUFHLENBQ1ZDLE1BQU0sOEZBQUUscUhBQ0FDLENBQUFBLENBREEsQ0FDTSxnREFETixVQUVpQkwsa0JBQU1NLEdBQU4sQ0FBVUQsQ0FBVixDQUZqQixjQUVBRSxDQUFBQSxDQUZBLFFBR0FDLENBSEEsQ0FHT0QsQ0FBUSxDQUFDQyxJQUhoQixDQUlBQyxDQUpBLENBSVVELENBQUksQ0FBQ0UsSUFKZixDQUtBQyxDQUxBLENBS1NDLGVBQU9DLEtBQVAsQ0FBYUMsWUFBYixDQUEwQkwsQ0FBMUIsRUFBbUNNLEdBQW5DLENBQXVDLEdBQXZDLEVBQTRDQyxHQUE1QyxDQUFnRCxFQUFoRCxDQUxULG1CQU1DTCxDQU5ELHlDQUFGLDhEQURJLENBU1ZNLEtBQUssOEZBQUUsV0FBTUMsQ0FBTixDQUFjQyxDQUFkLENBQXVCQyxDQUF2QixrR0FDQ1osQ0FBQUEsQ0FERCxDQUNRLENBQ1hVLE1BQU0sQ0FBTkEsQ0FEVyxDQUVYQyxPQUFPLENBQVBBLENBRlcsQ0FHWEMsS0FBSyxDQUFMQSxDQUhXLENBRFIsVUFNQ3JCLFdBQVcsQ0FBQ3NCLElBQVosQ0FBaUIsYUFBakIsQ0FBZ0NiLENBQWhDLENBTkQsd0NBQUYsNkRBVEssQ0FpQlZjLFFBQVEsOEZBQUUsV0FBT0MsQ0FBUCxzR0FDRnhCLENBQUFBLENBREUsQ0FDWUMsa0JBQU1DLE1BQU4sQ0FBYSxDQUMvQkMsT0FBTyxDQUFFLHFCQURzQixDQUFiLENBRFosVUFJZUgsQ0FBVyxDQUFDTyxHQUFaLENBQWdCLFFBQWhCLENBQTBCLENBQUVpQixNQUFNLENBQU5BLENBQUYsQ0FBMUIsQ0FKZixjQUlGaEIsQ0FBQUEsQ0FKRSxRQUtGYSxDQUxFLENBS01iLENBQVEsQ0FBQ0MsSUFMZixtQkFNRFksQ0FOQyx5Q0FBRixnRUFqQkUsQ0F5QlZJLFFBQVEsOEZBQUUsV0FBT0QsQ0FBUCxzR0FDRnhCLENBQUFBLENBREUsQ0FDWUMsa0JBQU1DLE1BQU4sQ0FBYSxDQUMvQkMsT0FBTyxDQUFFLHFCQURzQixDQUFiLENBRFosVUFJZUgsQ0FBVyxDQUFDTyxHQUFaLENBQWdCLFFBQWhCLENBQTBCLENBQUVpQixNQUFNLENBQU5BLENBQUYsQ0FBMUIsQ0FKZixjQUlGaEIsQ0FBQUEsQ0FKRSxRQUtGa0IsQ0FMRSxDQUtNbEIsQ0FBUSxDQUFDQyxJQUxmLG1CQU1EaUIsQ0FOQyx5Q0FBRixnRUF6QkUsQyxVQW1DR3RCLEciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJztcblxuaW1wb3J0IHV0aWxpdHkgZnJvbSAnLi91dGlsaXR5JztcblxuY29uc3QgZGV4YWdDbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICBiYXNlVVJMOiAnaHR0cHM6Ly9hcGkuZGV4LmFnLycsXG59KTtcblxuY29uc3QgYXBpID0ge1xuICBnZXRHYXM6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9ldGhnYXNzdGF0aW9uLmluZm8vanNvbi9ldGhnYXNBUEkuanNvbic7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQodXJsKTtcbiAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICBjb25zdCBnYXNEYXRhID0gZGF0YS5mYXN0O1xuICAgIGNvbnN0IGdhc1dlaSA9IGV0aGVycy51dGlscy5iaWdOdW1iZXJpZnkoZ2FzRGF0YSkubXVsKDFlOSkuZGl2KDEwKTtcbiAgICByZXR1cm4gZ2FzV2VpO1xuICB9LFxuICB0cmFjazogYXN5bmMoc3RhdHVzLCBkZXRhaWxzLCB0cmFkZSk9PntcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgc3RhdHVzLFxuICAgICAgZGV0YWlscyxcbiAgICAgIHRyYWRlLFxuICAgIH07XG4gICAgYXdhaXQgZGV4YWdDbGllbnQucG9zdCgnL3NlbmRfdHJhZGUnLCBkYXRhKTtcbiAgfSxcbiAgZ2V0VHJhZGU6IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICBjb25zdCBkZXhhZ0NsaWVudCA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgICBiYXNlVVJMOiAnaHR0cHM6Ly9hcGkuZGV4LmFnLycsXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkZXhhZ0NsaWVudC5nZXQoJy90cmFkZScsIHsgcGFyYW1zIH0pO1xuICAgIGNvbnN0IHRyYWRlID0gcmVzcG9uc2UuZGF0YTtcbiAgICByZXR1cm4gdHJhZGU7XG4gIH0sXG4gIGdldFByaWNlOiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGV4YWdDbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgYmFzZVVSTDogJ2h0dHBzOi8vYXBpLmRleC5hZy8nLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGV4YWdDbGllbnQuZ2V0KCcvdHJhZGUnLCB7IHBhcmFtcyB9KTtcbiAgICBjb25zdCBwcmljZSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgcmV0dXJuIHByaWNlO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuIl19